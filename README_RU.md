[![Logo](https://raw.githubusercontent.com/roskomsvoboda/censortracker/develop/.github/censortracker-popups.svg)](https://github.com/roskomsvoboda/censortracker)

![Build](https://github.com/roskomsvoboda/censortracker/workflows/Build/badge.svg?branch=master)
[![CodeFactor](https://www.codefactor.io/repository/github/roskomsvoboda/censortracker/badge)](https://www.codefactor.io/repository/github/roskomsvoboda/censortracker)

**Censor Tracker** — это расширение для браузера [Google Chrome](https://www.google.com/chrome/) которое позволяет обходить интернет-цензуру в РФ.

Возможности
===========

Censor Tracker предоставляет различные возможности, включая:

- Обнаружение и обход DPI блокировок
- Обход блокировок, осуществляемых [реестром запрещенных сайтов](https://eais.rkn.gov.ru/)
- Выявление веб-сайтов, находящихся в списке [ОРИ](https://97-fz.rkn.gov.ru/) и передающих данные третьим лицам

Принцип работы
==============

Выявление новых блокировок осуществляется по следующему принципу:

1. Все запросы перенаправляются на HTTPS и тогда, если сайт заблокирован происходит сброс соеденения и в `onErrorOccurs` возвращается соответствующая ошибка.
    * Если сайт перенаправляет на HTTP, то происходит циклическое перенаправление и потому подобные сайты заносятся в список игнорируемых.
    * Если сайт имеет проблемы с сертификатом, то сайт так же добавляется в  в список игнорируемых.
2. Если сброс соеденения произошел, то сайт логируется на бэкенде и добавляется в PAC файл.
    * На бэкенд отсылается IP адрес с которого сайт недоступен и веб-сайт, с доступностью которого возникли проблемы.
    * Каждые n-часов запускается задача, проверяющая наличие пар IP/ве-бсайт и выясняющая регион владельца IP,
а затем хэш IP-адреса сохраняется, а сам адрес удаляется.
    * Затем выявляются ресурсы недоступные у разных пользователей из одного и того же региона и заносятся в соответствующую базу данных.

Установка
=========

Чтобы установить расширение, перейдите в директорию с кодом расширения и выполните команду :

    ~ npm install && npm run dev
    ~ cd dist/

Зайдите в Chrome в раздел с расширениями и включите "Режим разработчика", нажмите на «Установить распакованное расширение» и
укажите путь до папки, в которую вы распаковали расширение.
